{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Django ToDo App{% endblock %}</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<body>


    {% block navbar %}
    <nav class="navbar navbar-expand-lg navbar-light fixed-top"
        style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
        <div class="container main-container mt-0 mb-0">
            <a class="navbar-brand fw-bold text-primary" href="{% url 'home' %}">TaskMaster</a>
            <div class="d-flex align-items-center">
                {% if user.is_authenticated %}
                <a href="{% url 'profile' %}" class="d-flex align-items-center text-decoration-none me-3">
                    {% if user.profile.avatar %}
                    <img src="{{ user.profile.avatar.url }}" alt="Avatar" class="rounded-circle me-2"
                        style="width: 35px; height: 35px; object-fit: cover; border: 2px solid var(--primary-color);">
                    {% else %}
                    <div class="rounded-circle me-2 d-flex align-items-center justify-content-center"
                        style="width: 35px; height: 35px; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));">
                        <span class="text-white" style="font-size: 0.9rem; font-weight: 700;">{{user.username|first|upper }}</span>
                            
                    </div>
                    {% endif %}
                    <span class="text-muted">{{ user.username }}</span>
                </a>
                <a href="{% url 'logout' %}" class="btn btn-sm btn-outline-danger"
                    style="border-radius: 20px;">Logout</a>
                {% else %}
                <a href="{% url 'login' %}" class="btn btn-sm btn-primary-custom me-2">Login</a>
                <a href="{% url 'register' %}" class="btn btn-sm btn-outline-primary"
                    style="border-radius: 20px;">Register</a>
                {% endif %}
            </div>
        </div>
    </nav>
    {% endblock %}


    <div class="main-container" style="padding-top: 40px;">
        {% block content %}
        {% endblock %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
</body>

</html>